const app = require('../app'),
    http = require('http'),
    config = require('../conf/config.json'),
    controller = require('../controller');

app.set('port', config.this.port);

let server = http.createServer(app);

server.listen(config.this.port, async () => {
    console.log('req server start');
    await controller.videoController.checkVideos();
    
    // controller.requestController.requestSRorNOTI(controller.dataController.makeSRorNOTI());

    // controller.requestController.requestKIDS(controller.dataController.makeKIDS());

    // controller.requestController.requestPOSTER(controller.dataController.makePOSTER());

    controller.requestController.requestCI(controller.dataController.makeCI());
    
    console.log('req process end');
});
